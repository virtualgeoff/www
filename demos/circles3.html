<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Circles 2</title>
	<style type="text/css">

		body {width:100vw; height:100vh; margin:0; padding:0; overflow:hidden; font-family:sans-serif; background-image: linear-gradient(#1a237e,#81d4fa); perspective:1000px;}

		p {margin:1em; color:#ccc;}
		
		#main {
			position:absolute;
			left:0;
			top:0;
			width:100vw;
			height:100vw;
			transform-style:preserve-3d;
			animation:spinY 20s linear infinite normal;
		}
		.circle {
			position:absolute;
			left:0;
			top:0;
			width:20vh;
			height:20vh;
			border-radius:100%;
			/*background:hsla(0,100%,50%,0.3);*/
			border:1px solid #000;
			/*animation:nudge 3s ease-in-out infinite alternate;*/
		}

		@keyframes spin {
			0%   {}
			100% {transform: rotate(360deg);}
		}
		@keyframes nudge {
			0%   {transform:translate(0vh, 0) rotate(0);}  
			100% {transform:translate(30vh, 0) rotateX(180deg);}
		}

		@-webkit-keyframes spinY {
			0%    {-webkit-transform:rotateY(0deg);}
			50%   {-webkit-transform:rotateY(180deg);}
			100%  {-webkit-transform:rotateY(360deg);}
		}


	</style>
	<script type="text/javascript">

		var centerX = window.innerWidth/2,
			centerY = window.innerHeight/2,
			R = window.innerHeight/5,
			r = 2 * R,
			circle,
			N = 360,
			pi = Math.PI;			

		function init() {
			var x, y, z;
			
			for (var i=0; i<N; i++) {
				x = centerX - r/2 + R * Math.cos(i * pi/180) + 'px';
				y = centerY - r/2 + R * Math.sin(i * pi/180) + 'px';
				z = (N/2 - i) * 2 + 'px'; // helix
				//z = 2 * R * Math.cos(i * 1 * pi/180) + 'px'; //
				
				circle = document.createElement('DIV');
				circle.className = 'circle';
				//circle.style.background = "hsla("+ (i*360/N) + ",100%,50%,0.3)";

				circle.style.left = x;
				circle.style.top = y;
				circle.style.width = r + 'px';
				circle.style.height = r + 'px';
				circle.style.transform = 'translate3d(' + 0 + ',' + 0 + ',' + z +')';
				//circle.style.transform = "rotate(" + (i*360/N) + "deg)";
				document.getElementById('main').appendChild(circle);
			}		
		}	
	
		window.onload = init;
	
	</script>
</head>
<body>

	<div id="main"></div>

	<p>Inspired by <a href="https://twitter.com/ballio/status/1104955801108709376">@ballio</a></p>

</body>
</html>
