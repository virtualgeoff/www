<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Sunrise and Sunset Times</title>
	<script type="text/javascript" src="sun.js"></script>
	<script type="text/javascript">
	
		function fillTable(table) {
			var now = new Date(),
				then,
				sunrise, sunset,
				i, j,
				tableStr = '';
			
			for (i=0; i<=12; i++) {
				then = new Date(now.getFullYear(), i, 1);				
				sunrise = then.sunrise(-33.881732,151.201465);
				sunset = then.sunset(-33.881732,151.201465);
				
				tableStr += '<tr><td>' + then.toLocaleDateString() + '</td>'
					+ '<td>' + sunrise.toLocaleTimeString() + '</td>'
					+ '<td>' + sunset.toLocaleTimeString() + '</td>'
					+ '</tr>';			
			}
			table.innerHTML += tableStr;


		}
		
		function init() {
			fillTable(document.getElementById('sunTable'));

			//Sunset tonight at the Triggertrap office
			var sunrise = new Date().sunrise(-33.881732,151.201465);
			window.alert(sunrise.toLocaleTimeString());
	
			var sunset = new Date().sunset(-33.881732,151.201465);
			window.alert(sunset.toLocaleTimeString());
						
			//Sunrise at Stonehenge on midsummer's day 2000			
			var sunrise = new Date("2000-06-21").sunrise(51.1788, -1.8262);
			//alert(sunrise);
			
			//Combine it with geolocation. Sunset tonight at your location.			
			//navigator.geolocation.getCurrentPosition(function(position) {
			//	var sunset = new Date().sunset(position.coords.latitude, position.coords.longitude);
			//});


		}
		
		window.onload = init;
	
	</script>
</head>
<body>

	<h1>Sunrise and Sunset Times</h1>
	
	<table id="sunTable">
		<tr>
			<th>Date</th>
			<th>Sunrise</th>
			<th>Sunset</th>
		</tr>
	</table>

</body>
</html>
