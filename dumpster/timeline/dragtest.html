<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Drag and Drop Script Test</title>

<style type="text/css">

body {background:#fff;}
.drag {position:relative; float:left; width:100px; height:100px; margin:10px; background:#ccc; border:1px solid #000;}

#draggable4 {position:absolute; left:500px; top:140px; width:100px; height:100px;}
#draggable5 {position:absolute; left:620px; top:140px; width:100px; height:100px;}
#draggable6 {position:fixed;    left:740px; top:140px; width:100px; height:100px;}
#draggable10 {position:absolute; left:490px; top:0px; width:100px; height:100px;}
#draggable11 {position:absolute; left:610px; top:0px; width:100px; height:100px;}
#draggable12 {position:fixed;    left:741px; top:301px; width:100px; height:100px;}

#anotherDiv {position:absolute; left:10px; top:300px; width:370px; height:300px; background:#eee; border:1px solid #000;}
#info {position:absolute; top:0px; right:0px; width:200px; padding:1em;}

</style>
<script type="text/javascript" src="scripts/drag.js"></script>
<script type="text/javascript">

function doSomething (element, eventID, mouseX, mouseY, elementX, elementY) {
	document.getElementById('info').style.color = "#00f";
	document.getElementById('info').innerHTML = '#' + element.id + ' (' + eventID + ')';
	if (mouseX) {
		document.getElementById('info').innerHTML += '<br>Mouse: ' + mouseX + ',' + mouseY;
	}
	if (elementX) {
		document.getElementById('info').innerHTML += '<br>Element: ' + elementX + ',' + elementY;
	}
}
function doSomethingElse (element, eventID, mouseX, mouseY, elementX, elementY) {
	document.getElementById('info').style.color = "#f00";
	document.getElementById('info').innerHTML = '#' + element.id + ' (' + eventID + ')';
	if (mouseX) {
		document.getElementById('info').innerHTML += '<br>Mouse: ' + mouseX + ',' + mouseY;
	}
	if (elementX) {
		document.getElementById('info').innerHTML += '<br>Element: ' + elementX + ',' + elementY;
	}
}

function init() {
	tom = dragDrop.attach('draggable1');
	dick = dragDrop.attach('draggable2', true, false);
	harry = dragDrop.attach('draggable3', false, true, 0, 700, 0, 0);
	fred = dragDrop.attach('draggable4', false, false, 300, null, null, 400);
	joe = dragDrop.attach('draggable5', false, false, 0, (window.innerWidth - 120), 0, (window.innerHeight - 120));
	pete = dragDrop.attach('draggable6', false, false, null, null, null, null, 120, 120);

	
	draggable7 = dragDrop.attach('draggable7');	
	draggable8 = dragDrop.attach('draggable8', true, false);
	draggable9 = dragDrop.attach('draggable9', false, true, 0, 700, 0, 0);
	draggable10 = dragDrop.attach('draggable10', false, false, 300, null, null, 400);
	draggable11 = dragDrop.attach('draggable11', false, false, 0, (window.innerWidth - 120), 0, (window.innerHeight - 120));
	draggable12 = dragDrop.attach('draggable12', false, false, null, null, null, null, 120, 120);

	tom.callback = doSomething;
	document.getElementById('draggable2').callback = doSomethingElse;
	harry.callback = doSomething;
	fred.callback = doSomethingElse;
	joe.callback = doSomething;
	pete.callback = doSomethingElse;	
}

// IE throws errors if not all declared first:
var tom, dick, harry, fred, joe, pete, draggable7, draggable8, draggable9, draggable10, draggable11, draggable12;

window.onload = init;

</script>

</head>
<body>

<h1>Drag and Drop Script Test</h1>

<p>From <a href="http://www.webtoolkit.info/javascript-drag-and-drop.html">http://www.webtoolkit.info/javascript-drag-and-drop.html</a></p>
<p>Works with position:fixed, absolute and relative. Have added callbacks, constraints, min and max values, and snap to grid. Works in IE (finally).</p>
<p id="info"></p>

<div id="draggable1" class="drag">1<br>position: relative;</div>
<div id="draggable2" class="drag">2<br>position: relative;<br>constain-X</div>
<div id="draggable3" class="drag">3<br>position: relative;<br>constain-Y<br>min, max</div>
<div id="draggable4" class="drag">4<br>position: absolute;<br>minX, maxY</div>
<div id="draggable5" class="drag">5<br>position: absolute;<br>minX, maxX,<br>minY, maxY</div>
<div id="draggable6" class="drag">6<br>position: fixed;<br>snapX, snapY</div>

<div id="anotherDiv">
	<div id="draggable7" class="drag">7<br>position: relative;</div>
	<div id="draggable8" class="drag">8<br>position: relative;<br>constain-X</div>
	<div id="draggable9" class="drag">9<br>position: relative;<br>constain-Y<br>min, max</div>
	<div id="draggable10" class="drag">10<br>position: absolute;<br>minX, maxY</div>
	<div id="draggable11" class="drag">11<br>position: absolute;<br>minX, maxX,<br>minY, maxY</div>
	<div id="draggable12" class="drag">12<br>position: fixed;<br>snapX, snapY</div>
</div>

</body>
</html>
